# Infrastructure Organizational Unit
name: "Infrastructure"
description: "Accounts for core infrastructure and networking"

classifications:
  - "admin"

# Accounts in this unit (listed by logical name)
accounts:
  # Production environment
  production:
    name: "Production"
    email: "production@flipsidecrypto.com"
    environment: "prod"
    classifications:
      - "logged"
      - "monitored"
      - "networked"
    control_tower_managed: true
  
  # Staging environment
  staging:
    name: "Staging"
    email: "staging@flipsidecrypto.com"
    environment: "stg"
    classifications:
      - "networked"
    control_tower_managed: true
  
  # Indexers account
  indexers:
    name: "Indexers"
    email: "indexers@flipsidecrypto.com"
    environment: "indexers"
    control_tower_managed: true
  
  # Compass account
  compass:
    name: "Compass"
    email: "compass@flipsidecrypto.com"
    environment: "compass"
    classifications:
      - "cluster"
    control_tower_managed: true
  
  # Transit account
  transit:
    name: "Transit"
    email: "transit@flipsidecrypto.com"
    environment: "network"
    control_tower_managed: true

# Policy assignments for this unit
policy_assignments:
  # Service control policies
  service_control:
    - "deny_leave_organization"
  
  # Tag policies
  tag:
    - "required_tags"
  
  # Backup policies
  backup:
    - "daily_backup" 