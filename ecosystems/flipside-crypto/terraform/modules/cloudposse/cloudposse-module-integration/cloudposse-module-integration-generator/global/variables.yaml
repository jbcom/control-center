attributes:
  parameter_generator: |-
    distinct(flatten(concat([|DATA_SINK|["attributes"]], [
      "|TRAFFIC|",
    ])))
tags:
  parameter_generator: |-
    { for k, v in merge(local.tags, lookup(|DATA_SINK|, "tags", {})) : k => v if k != "Name" }
stage:
  parameter_generator: |-
    lookup(|DATA_SINK|, "stage", local.region)
environment:
  parameter_generator: |-
    lookup(|DATA_SINK|, "environment", local.environment)
enabled:
  default_value: true
context:
  remove: true
label_key_case:
  remove: true
label_value_case:
  remove: true
labels_as_tags:
  remove: true
account_id:
  default_value: null
  default_generator: 'account_data["id"]'
  type: optional(string)
  internal: true
  description: Account ID for the module instance
execution_role_arn:
  default_value: ''
  default_generator: 'account_data["execution_role_arn"]'
  type: optional(string)
  internal: true
  description: Execution role ARN for the module instance
accounts:
  default_value:
    - Staging
    - Production
  type: optional(list(string))
  internal: true
  description: AWS accounts where the module instance will be built
public:
  default_value: false
  type: optional(bool)
  internal: true
  description: Whether to build an instance of the module for public Internet access
private:
  default_value: false
  type: optional(bool)
  internal: true
  description: Whether to build an instance of the module for private Intranet access
network_map:
  default_value: {}
  type: optional(map(string))
  internal: true
  description: Optional map of accounts to a corresponding spoke VPC network name within the account. Use the network name from the Transit Gateway, not the VPC name itself, e.g. cluster_Clusters_Prod.