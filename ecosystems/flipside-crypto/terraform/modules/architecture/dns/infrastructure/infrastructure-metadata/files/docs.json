{"certificates":{"description":"Requests an ACM certificate for a domain and add a CNAME record to the DNS zone to complete certificate validation\n\nBuilds the resources(s) from \u003ca href=\"https://github.com/cloudposse/terraform-aws-acm-request-certificate\"\u003eterraform-aws-acm-request-certificate/0.17.0\u003c/a\u003e\n\nThis is done by adding a declaration for the desired asset in \u003ca href=\"config/infrastructure/certificates.yaml\"\u003e../config/infrastructure/certificates.yaml\u003c/a\u003e.\n\nEach parameter may or may not contain any of the following:\n\n\u003cdl\u003e\n\u003cdt\u003eDefault\u003c/dt\u003e\n\u003cdd\u003eEither a default value or a generator used to produce a default value using Terraform\u003c/dd\u003e\n\u003c/dl\u003e\n\n\u003cdl\u003e\n\u003cdt\u003eOverride\u003c/dt\u003e\n\u003cdd\u003eA value or generator that always overrides any value set\u003c/dd\u003e\n\u003c/dl\u003e\n\n\u003cdl\u003e\n\u003cdt\u003eRequired\u003c/dt\u003e\n\u003cdd\u003eWhether the parameter must be set or not\u003c/dd\u003e\n\u003c/dl\u003e\n\n\u003cdl\u003e\n\u003cdt\u003eType\u003c/dt\u003e\n\u003cdd\u003eThe type of the parameter as dictated by Terraform's \u003ca href=\"https://developer.hashicorp.com/terraform/language/expressions/types\"\u003etypes and values documentation\u003c/a\u003e\u003c/dd\u003e\n\u003c/dl\u003e\n\nUse the parameters to construct the specification for your asset.\n","format_headings":false,"sections":[{"description":"Account ID for the module instance","snippets":[{"content":"account_data[\"id\"]","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"account_id"},{"description":"AWS accounts where the module instance will be built","snippets":[{"content":"\u003cul\u003e\n\u003cli\u003eStaging\u003c/li\u003e\n\u003cli\u003eProduction\u003c/li\u003e\n\u003c/ul\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(list(string))","title":"Type"}],"title":"accounts"},{"description":"Additional key-value pairs to add to each map in `tags_as_list_of_maps`.\n\nNot added to `tags` or `id`.\n\nThis is for some rare cases where resources want additional configuration of tags\n\nand therefore take a list of maps with tag key, value, and additional configuration.","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(map(string))","title":"Type"}],"title":"additional_tag_map"},{"description":"ID element.\n\nAdditional attributes (e.g. `workers` or `cluster`) to add to `id`,\n\nin the order they appear in the list.\n\nNew attributes are appended to the\n\nend of the list.\n\nThe elements of the list are joined by the `delimiter`\n\nand treated as a single ID element.","snippets":[{"content":"\u003cul\u003e\n\n\u003c/ul\u003e","title":"Default"},{"content":"distinct(flatten(concat([|DATA_SINK|[\"attributes\"]], [\n  \"|TRAFFIC|\",\n])))","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(list(string))","title":"Type"}],"title":"attributes"},{"description":"ARN of an ACM PCA","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"certificate_authority_arn"},{"description":"Specifies whether certificate details should be added to a certificate transparency log","snippets":[{"content":"true","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"certificate_transparency_logging_preference"},{"description":"Delimiter to be used between ID elements.\n\nDefaults to `-` (hyphen).\n\nSet to `\"\"` to use no delimiter at all.","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"delimiter"},{"description":"Describe additional descriptors to be output in the `descriptors` output map.\n\nMap of maps.\n\nKeys are names of descriptors.\n\nValues are maps of the form\n\n\u003ccode\u003e{\n\n   format = string\n\n   labels = list(string)\n\n}\u003c/code\u003e\n\n(Type is `any` so the map values can later be enhanced to provide additional options.)\n\n`format` is a Terraform format string to be passed to the `format()` function.\n\n`labels` is a list of labels, in order, to pass to `format()` function.\n\nLabel values will be normalized before being passed to `format()` so they will be\n\nidentical to how they appear in `id`.\n\nDefault is \u003ccode\u003e{}\u003c/code\u003e (`descriptors` output will be empty).","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(any)","title":"Type"}],"title":"descriptor_formats"},{"description":"A domain name for which the certificate should be issued","snippets":[{"content":"each.key","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"domain_name"},{"description":"Whether to enable a wildcard for the certificate","snippets":[{"content":"true","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"enable_wildcard"},{"description":"Set to false to prevent the module from creating any resources","snippets":[{"content":"true","title":"Default"},{"content":"\"|TRAFFIC|\" == \"public\" ? true : false","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"enabled"},{"description":"ID element.\n\nUsually used for region e.g. 'uw2', 'us-west-2', OR role 'prod', 'staging', 'dev', 'UAT'","snippets":[{"content":"lookup(|DATA_SINK|, \"environment\", local.environment)","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"environment"},{"description":"Execution role ARN for the module instance","snippets":[{"content":"account_data[\"execution_role_arn\"]","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"execution_role_arn"},{"description":"Limit `id` to this many characters (minimum 6).\n\nSet to `0` for unlimited length.\n\nSet to `null` for keep the existing setting, which defaults to `0`.\n\nDoes not affect `id_full`.","snippets":[{"content":"false","title":"Required"},{"content":"optional(number)","title":"Type"}],"title":"id_length_limit"},{"description":"The order in which the labels (ID elements) appear in the `id`.\n\nDefaults to [\"namespace\", \"environment\", \"stage\", \"name\", \"attributes\"].\n\nYou can omit any of the 6 labels (\"tenant\" is the 6th), but at least one must be present.","snippets":[{"content":"\u003cul\u003e\n\n\u003c/ul\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(list(string))","title":"Type"}],"title":"label_order"},{"description":"ID element.\n\nUsually the component or solution name, e.g. 'app' or 'jenkins'.\n\nThis is the only ID element not also included as a `tag`.\n\nThe \"name\" tag is set to the full `id` string.\n\nThere is no tag with the value of the `name` input.","snippets":[{"content":"each.key","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"name"},{"description":"ID element.\n\nUsually an abbreviation of your organization name, e.g. 'eg' or 'cp', to help ensure generated IDs are globally unique","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"namespace"},{"description":"Optional map of accounts to a corresponding spoke VPC network name within the account.\n\nUse the network name from the Transit Gateway, not the VPC name itself, e.g. cluster_Clusters_Prod.","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(map(string))","title":"Type"}],"title":"network_map"},{"description":"Whether to build an instance of the module for private Intranet access","snippets":[{"content":"false","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"private"},{"description":"Flag to enable/disable processing of the record to add to the DNS zone to complete certificate validation","snippets":[{"content":"false","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"process_domain_validation_options"},{"description":"Whether to build an instance of the module for public Internet access","snippets":[{"content":"false","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"public"},{"description":"Terraform regular expression (regex) string.\n\nCharacters matching the regex will be removed from the ID elements.\n\nIf not set, `\"/[^a-zA-Z0-9-]/\"` is used to remove all characters other than hyphens, letters and digits.","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"regex_replace_chars"},{"description":"ID element.\n\nUsually used to indicate role, e.g. 'prod', 'staging', 'source', 'build', 'test', 'deploy', 'release'","snippets":[{"content":"lookup(|DATA_SINK|, \"stage\", local.region)","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"stage"},{"description":"A list of domains that should be SANs in the issued certificate","snippets":[{"content":"\u003cul\u003e\n\n\u003c/ul\u003e","title":"Default"},{"content":"distinct(concat(|DATA_SINK|[\"subject_alternative_names\"], |DATA_SINK|[\"enable_wildcard\"] ? [\"*.${each.key}\"]: [ ]))","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(list(string))","title":"Type"}],"title":"subject_alternative_names"},{"description":"Additional tags (e.g. \u003ccode\u003e{'BusinessUnit': 'XYZ'}\u003c/code\u003e).\n\nNeither the tag keys nor the tag values will be modified by this module.","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"{ for k, v in merge(local.tags, lookup(|DATA_SINK|, \"tags\", {})) : k =\u003e v if k != \"Name\" }","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(map(string))","title":"Type"}],"title":"tags"},{"description":"ID element _(Rarely used, not included by default)_.\n\nA customer identifier, indicating who this instance of a resource is for","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"tenant"},{"description":"The TTL of the record to add to the DNS zone to complete certificate validation","snippets":[{"content":"300","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"ttl"},{"description":"Method to use for validation, DNS or EMAIL","snippets":[{"content":"DNS","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"validation_method"},{"description":"Whether to wait for the certificate to be issued by ACM (the certificate status changed from `Pending Validation` to `Issued`)","snippets":[{"content":"false","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"wait_for_certificate_issued"},{"description":"The zone id of the Route53 Hosted Zone which can be used instead of `var.zone_name`.","snippets":[{"content":"|ZONE_ID|","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"zone_id"},{"description":"The name of the desired Route53 Hosted Zone","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"zone_name"}],"title":"Configuration"},"zones":{"description":"Defines consistent cluster domains on Route53\n\nBuilds the resources(s) from \u003ca href=\"https://github.com/cloudposse/terraform-aws-route53-cluster-zone\"\u003eterraform-aws-route53-cluster-zone/0.15.0\u003c/a\u003e\n\nThis is done by adding a declaration for the desired asset in \u003ca href=\"config/infrastructure/zones.yaml\"\u003e../config/infrastructure/zones.yaml\u003c/a\u003e.\n\nEach parameter may or may not contain any of the following:\n\n\u003cdl\u003e\n\u003cdt\u003eDefault\u003c/dt\u003e\n\u003cdd\u003eEither a default value or a generator used to produce a default value using Terraform\u003c/dd\u003e\n\u003c/dl\u003e\n\n\u003cdl\u003e\n\u003cdt\u003eOverride\u003c/dt\u003e\n\u003cdd\u003eA value or generator that always overrides any value set\u003c/dd\u003e\n\u003c/dl\u003e\n\n\u003cdl\u003e\n\u003cdt\u003eRequired\u003c/dt\u003e\n\u003cdd\u003eWhether the parameter must be set or not\u003c/dd\u003e\n\u003c/dl\u003e\n\n\u003cdl\u003e\n\u003cdt\u003eType\u003c/dt\u003e\n\u003cdd\u003eThe type of the parameter as dictated by Terraform's \u003ca href=\"https://developer.hashicorp.com/terraform/language/expressions/types\"\u003etypes and values documentation\u003c/a\u003e\u003c/dd\u003e\n\u003c/dl\u003e\n\nUse the parameters to construct the specification for your asset.\n","format_headings":false,"sections":[{"description":"Account ID for the module instance","snippets":[{"content":"account_data[\"id\"]","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"account_id"},{"description":"AWS accounts where the module instance will be built","snippets":[{"content":"\u003cul\u003e\n\u003cli\u003eStaging\u003c/li\u003e\n\u003cli\u003eProduction\u003c/li\u003e\n\u003c/ul\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(list(string))","title":"Type"}],"title":"accounts"},{"description":"Additional key-value pairs to add to each map in `tags_as_list_of_maps`.\n\nNot added to `tags` or `id`.\n\nThis is for some rare cases where resources want additional configuration of tags\n\nand therefore take a list of maps with tag key, value, and additional configuration.","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(map(string))","title":"Type"}],"title":"additional_tag_map"},{"description":"ID element.\n\nAdditional attributes (e.g. `workers` or `cluster`) to add to `id`,\n\nin the order they appear in the list.\n\nNew attributes are appended to the\n\nend of the list.\n\nThe elements of the list are joined by the `delimiter`\n\nand treated as a single ID element.","snippets":[{"content":"\u003cul\u003e\n\n\u003c/ul\u003e","title":"Default"},{"content":"distinct(flatten(concat([|DATA_SINK|[\"attributes\"]], [\n  \"|TRAFFIC|\",\n])))","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(list(string))","title":"Type"}],"title":"attributes"},{"description":"Delimiter to be used between ID elements.\n\nDefaults to `-` (hyphen).\n\nSet to `\"\"` to use no delimiter at all.","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"delimiter"},{"description":"Describe additional descriptors to be output in the `descriptors` output map.\n\nMap of maps.\n\nKeys are names of descriptors.\n\nValues are maps of the form\n\n\u003ccode\u003e{\n\n   format = string\n\n   labels = list(string)\n\n}\u003c/code\u003e\n\n(Type is `any` so the map values can later be enhanced to provide additional options.)\n\n`format` is a Terraform format string to be passed to the `format()` function.\n\n`labels` is a list of labels, in order, to pass to `format()` function.\n\nLabel values will be normalized before being passed to `format()` so they will be\n\nidentical to how they appear in `id`.\n\nDefault is \u003ccode\u003e{}\u003c/code\u003e (`descriptors` output will be empty).","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(any)","title":"Type"}],"title":"descriptor_formats"},{"description":"Set to false to prevent the module from creating any resources","snippets":[{"content":"true","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"enabled"},{"description":"ID element.\n\nUsually used for region e.g. 'uw2', 'us-west-2', OR role 'prod', 'staging', 'dev', 'UAT'","snippets":[{"content":"lookup(|DATA_SINK|, \"environment\", local.environment)","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"environment"},{"description":"Execution role ARN for the module instance","snippets":[{"content":"account_data[\"execution_role_arn\"]","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"execution_role_arn"},{"description":"Whether the zone is registered outside of Route53 or not","snippets":[{"content":"false","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"externally_registered_zone"},{"description":"Limit `id` to this many characters (minimum 6).\n\nSet to `0` for unlimited length.\n\nSet to `null` for keep the existing setting, which defaults to `0`.\n\nDoes not affect `id_full`.","snippets":[{"content":"false","title":"Required"},{"content":"optional(number)","title":"Type"}],"title":"id_length_limit"},{"description":"The order in which the labels (ID elements) appear in the `id`.\n\nDefaults to [\"namespace\", \"environment\", \"stage\", \"name\", \"attributes\"].\n\nYou can omit any of the 6 labels (\"tenant\" is the 6th), but at least one must be present.","snippets":[{"content":"\u003cul\u003e\n\n\u003c/ul\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(list(string))","title":"Type"}],"title":"label_order"},{"description":"ID element.\n\nUsually the component or solution name, e.g. 'app' or 'jenkins'.\n\nThis is the only ID element not also included as a `tag`.\n\nThe \"name\" tag is set to the full `id` string.\n\nThere is no tag with the value of the `name` input.","snippets":[{"content":"each.key","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"name"},{"description":"ID element.\n\nUsually an abbreviation of your organization name, e.g. 'eg' or 'cp', to help ensure generated IDs are globally unique","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"namespace"},{"description":"Optional map of accounts to a corresponding spoke VPC network name within the account.\n\nUse the network name from the Transit Gateway, not the VPC name itself, e.g. cluster_Clusters_Prod.","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(map(string))","title":"Type"}],"title":"network_map"},{"description":"  The time to live (TTL) of the Name Server Route53 record, in seconds.\n\n\n\n  The default value is short for responsiveness to changes during development and \n\n  is not recommended for production.\n\nTypical production values are 86400 or 172800.","snippets":[{"content":"86400","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(number)","title":"Type"}],"title":"ns_record_ttl"},{"description":"ID of the hosted zone to contain this record  (or specify `parent_zone_name`)","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"parent_zone_id"},{"description":"Name of the hosted zone to contain this record (or specify `parent_zone_id`)","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"parent_zone_name"},{"description":"Whether to create the NS record on the parent zone.\n\nUseful for creating a cluster zone across accounts.\n\n`var.parent_zone_name` required if set to false.","snippets":[{"content":"false","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"parent_zone_record_enabled"},{"description":"Whether to build an instance of the module for private Intranet access","snippets":[{"content":"false","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"private"},{"description":"Whether to build an instance of the module for public Internet access","snippets":[{"content":"true","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(bool)","title":"Type"}],"title":"public"},{"description":"Terraform regular expression (regex) string.\n\nCharacters matching the regex will be removed from the ID elements.\n\nIf not set, `\"/[^a-zA-Z0-9-]/\"` is used to remove all characters other than hyphens, letters and digits.","snippets":[{"content":"/[^a-zA-Z0-9-\\.]/","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"regex_replace_chars"},{"description":"The time to live (TTL) of the Start of Authority Route53 record, in seconds.\n\nThis sets the maximum time a negative (no data) query can be cached.\n\n\n\nThe default value is short for responsiveness to changes during development and \n\nis not recommended for production.\n\nTypical production values are in the range of 300 to 3600.","snippets":[{"content":"300","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(number)","title":"Type"}],"title":"soa_record_ttl"},{"description":"ID element.\n\nUsually used to indicate role, e.g. 'prod', 'staging', 'source', 'build', 'test', 'deploy', 'release'","snippets":[{"content":"lookup(|DATA_SINK|, \"stage\", local.region)","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"stage"},{"description":"Additional tags (e.g. \u003ccode\u003e{'BusinessUnit': 'XYZ'}\u003c/code\u003e).\n\nNeither the tag keys nor the tag values will be modified by this module.","snippets":[{"content":"\u003ccode\u003e\n{}\n\n\u003c/code\u003e","title":"Default"},{"content":"{ for k, v in merge(local.tags, lookup(|DATA_SINK|, \"tags\", {})) : k =\u003e v if k != \"Name\" }","title":"Override"},{"content":"false","title":"Required"},{"content":"optional(map(string))","title":"Type"}],"title":"tags"},{"description":"ID element _(Rarely used, not included by default)_.\n\nA customer identifier, indicating who this instance of a resource is for","snippets":[{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"tenant"},{"description":"Zone name","snippets":[{"content":"${name}","title":"Default"},{"content":"false","title":"Required"},{"content":"optional(string)","title":"Type"}],"title":"zone_name"}],"title":"Configuration"}}