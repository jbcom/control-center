# Reusable lint workflow using tox with tox-uv
name: Lint

on:
  workflow_call:

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6

      - uses: actions/setup-python@v6
        with:
          python-version: "3.13"

      - uses: astral-sh/setup-uv@v7

      - name: Cache
        uses: actions/cache@v4
        with:
          path: |
            ~/.cache/uv
            .tox
          key: tox-lint-${{ hashFiles('uv.lock', 'tox.ini') }}

      - name: Install tox
        run: uv tool install tox --with tox-uv --with tox-gh

      - name: Lint with tox
        run: tox -e lint
